@allow-rescue
Scenario: Users should not be able to get to other user's mypage
Given a user: "johan" exists with username: "johan"
	And a user: "reiko" exists with username: "reiko"
	And I am logged in as "johan"
When I go to the show page of user "johan"
Then I should be redirected to the show page of user "johan"
When I go to the show page of user "reiko"
Then I should be redirected to the root page
	And I should see "You are not authorized to access this page." as error flash message

Scenario: Admins can view everyone's mypage
Given a user: "johan" exists with username: "johan"
	And a user: "reiko" exists with username: "reiko"
	And I am logged in as admin
When I go to the show page of user "johan"
Then I should be redirected to the show page of user "johan"
When I go to the show page of user "reiko"
Then I should be redirected to the show page of user "reiko"
